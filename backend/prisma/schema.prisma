
generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// A service to be searched for. WIll be associated with a specific non-profits database.
model service{
  id                    Int     @id @default(autoincrement())
  name                  String  @unique
  address               String
  zipcode               Int
  description           String
  phonenumber           String
  email                 String
  phone                 String
  website               String
  hours                 String
  logo                  Strings
  language              String
  date_needed           String
  services_offered      String[]
  restrictions          String
  next_steps            String
  organizationID        Int
  organization          nonprofit
}

// The non profit associated with a certain database of services.
model nonprofit {
id                      Int       @id @default(autoincrement())
name                    String    @unique
phone                   String
email                   String
logo                    String
request_list            accessrequest[]
}

// Each user from the non profit side who can manage  the services for their non profit.
model nonprofituser{
  id                    Int      @id @default(autoincrement())
  username              String   @unique
  password              String
  signininfo            String
  email                 String
  organization          nonprofit
}

// The refugee account so a refugee can sign in and out and save services.
model refugee{
  id                    Int     @id @default(autoincrement())
  username              String  @unique
  password              String
  signininfo            String
  email                 String
  address               String
  organizationID        Int
  organization          nonprofit
  logs                  refugeelog[]
  }


// A log object for a refugee user to keep track of important data.
model refugeelog{
  id                    Int     @id @default(autoincrement())
  type                  String
  data                  String
  date                  Int
  user                  refugee
  userid                Int
  nonprofit_id          nonprofit
}
